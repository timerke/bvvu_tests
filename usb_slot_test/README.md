# usb_slot_test
Тестирования БВВУ на отвал USB-хабов для слотов. Тестирование состоит из повторяющихся друг за другом получения информации об имеющихся в БВВУ модулях, подключенных к слотам, и перезагрузки БВВУ.

## Запуск тестирования

1. Установите необходимые зависимости. Для этого перейдите в папку **scripts** и выполните скрипт:

   - **install.bat**, если работаете в *Windows*;

   - **install.sh**, если работаете в *Linux*:

     ```bash
     bash install.sh
     ```

2. Создайте в папке **usb_slot_test** конфигурационный файл **config.ini** со следующей структурой:

   ```
   [BVVU]
   HOST = IP адрес тестируемого БВВУ
   
   [TEST]
   LOG_FILE = имя файла для логов (по умолчанию log_test.txt)
   REBOOTS = количество перезагрузок БВВУ до завершения теста (по умолчанию 200)
   STOP = true, если тестирование нужно завершить, когда какой-нибудь модуль отваливается
   
   [ENERGENIE]
   HOST = IP адрес страницы программируемого сетевого фильтра EnerGenie LAN Power Manager
   PASSWORD = пароль для входа на страницу программируемого сетевого фильтра EnerGenie LAN Power Manager
   SOCKET = номер сокета сетевого фильтра EnerGenie, к которому подключен тестируемый БВВУ
   ```

3. Перейдите в папку **scripts** и выполните скрипт:

   - **run_test.bat**, если работаете в *Windows*;

   - **run_test.sh**, если работаете в *Linux*:

     ```bash
     bash run_test.sh
     ```


В результате тестирования логи будут сохранены в текстовый файл.

## Запуск анализа результатов

1. Установите необходимые зависимости. Для этого перейдите в папку **scripts** и выполните скрипт:

   - **install.bat**, если работаете в *Windows*;

   - **install.sh**, если работаете в *Linux*:

     ```bash
     bash install.sh
     ```

2. Перейдите в папку **scripts** и выполните скрипт:

   - **run_analyzer.bat**, если работаете в *Windows*;

   - **run_analyzer.sh**, если работаете в *Linux*:

     ```bash
     bash run_analyzer.sh
     ```

   До запуска скриптов нужно их отредактировать и указать значения переменных:

   - *LOG_FILE* - имя файла, в котором лежит журналы логирования (по умолчанию log_test.txt).

## Примечание

Для работы требуется Pyhton >= 3.7.
